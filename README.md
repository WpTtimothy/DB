# DB
## DB选型
#### 成本 

  *1. 搭建成本*
  Oracle : software is expensive + hardware 服务器/存储
  MySql: 开源
  
 *2. 风险成本*
  企业高速发展时，数据库迁移设计到基础架构，相当于给高速行驶的汽车更换引擎，还要保证汽车不熄火
  
  *3. 技术成本*
  其实上面提到了迁移过程的难度大。主要有几个方面，业务不能停，数据一致性，大量的业务可能面临解耦，重构等等，这些做完整体架构可能都变天了，这个是需要大量开发人员费时费力还不一定就能百分百做好的事儿。如果没有一点前期的技术积累，几乎不可能完成，淘宝这方面的实力确实国内领先
  
  *4.人力成本*
  大量的开发成员
  用户，dba等重新学习新的技术
  前期的技术积累会浪费，有经验的oracle开发人员流失
#### 业务场景
DB架构的拓展性如何支持企业业务的发展，尤其是互联网行业，数据的爆炸式增长
MySql轻量级的数据库更能支持大集群承载，定制化，进行二次开发满足业务需求，-----NoSql
阿里使用**OceanBase**代替原有数据库: 金融系统要求在主库故障的时候不能丢失任何数据(地震等天灾人祸除外)，MySQL无法做到这一点(如果不使用共享存储的话)
#### 技术趋势
当前互联网技术发展有个整体的趋势，就是开源产品为主流。oracle是这个世界上到目前为止最优秀的关系形数据库产品，但是他闭源，闭源就意味着在整个互联网大行业背景下，这个产品本身就可能变的越来越小众，对于一家互联网公司使用的基础架构本身很小众的话还不是什么太大的问题，但是其导致的技术上的壁垒就很难接受了，自己最核心的基础架构掌握在别人家手里
现如今，像，多表连(>3), 触发器，function，procedure等复杂的一直被oracle等大公司着重优化的功能，更多得被其他应用实现，数据库得功能越来越趋向于简单的数据存储，MySql的缺点被弱化
#### 高层支持
------------------------------------------------------------------------------------------------------------------------------------------
业务需求使然，主要是在当前互联网时代，**开源、可扩展性强、可定制性强的平台，对于企业互联网业务创新的未来很重要**。
我国曾经有一阵“去IOE”的风，对于不少公司而言，其实就是采用更适应互联网业务发展的**分布式架构**，替代传统的集中式架构。根据阿里内部的总结，**集中式架构单点虽强，但故障影响面非常大，是全网性的，是无法隔离的；其次是扩容成本很高，小型机和 Oracle 都很贵的**。再次就是技术上的限制了，**产品底层无法掌控**。在中国互联网野蛮增长的背景下，这些矛盾尤为突出。
网易当年放弃 Oracle 而使用 MySQL 的原因，是因为要迎接 Web 2.0 时代——2006 年网易博客平台要支撑数十亿的文章、图片的管理，需要大规模分布式系统来支撑。网易选择了开源的 MySQL 数据库，从存储引擎、到可用，做了很多优化，并研发了分布式数据库中间件。MySQL 是开源的，如果使用过程过那种遇到问题，**团队可以彻底地查代码，而且全世界有很多技术社区、技术专家可以咨询**。所以说，Oracle 强大，但对于规模达到一定程度的互联网公司来说，**管理维护麻烦，操作复杂**，引以为傲的功能又不稀罕，还依赖“高富帅的设备”，不如开源、更轻量的 MySQL 来得实用。
